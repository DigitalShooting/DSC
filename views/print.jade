doctype html
html(lang="de" ng-app="dsc-print")
	head
		title Print
			
		//link(href="/css/print.css", rel="stylesheet")
		link(href="http://127.0.0.1:3000/css/print.css", rel="stylesheet")
	
		// jquery
		script(src="http://127.0.0.1:3000/libs/jquery/dist/jquery.js")
		
		// bootstrap
		script(src="http://127.0.0.1:3000/libs/bootstrap/dist/js/bootstrap.min.js")
		
		// Angular
		script(src="http://127.0.0.1:3000/libs/angularjs/angular.min.js")
		script(src='http://127.0.0.1:3000/libs/angular-route/angular-route.js')
		
		// Socket io
		script(src="/socket.io/socket.io.js")
		script(src="/libs/angular-socket-io/socket.js")
		
		// Angular QR
		script(src="http://127.0.0.1:3000/libs/qrcode/lib/qrcode.min.js")
		script(src="http://127.0.0.1:3000/libs/angular-qr/angular-qr.min.js")
		
		script(src='http://127.0.0.1:3000/js/controllers/print.js')
		script(src='http://127.0.0.1:3000/js/services/grafik.js')
		script(src='js/services/socketio.js')
		
		meta(name="viewport", content="width=device-width")
	body
		h1 #{config.stand.hostVerein}
			small  #{config.stand.title}
	
		div(ng-controller="sessions")
			div(ng-repeat="session in sessions track by $index")
				table(class="headerTable col-xs-4")
					tr
						th Name
						td {{session.user.firstName}} {{session.user.lastName}}
					tr
						th Datum
						td {{currentDate}}
						
				table(class="headerTable col-xs-4")
					tr
						th Verein
						td {{session.user.verein}}
					tr
						th Manschaft
						td {{session.user.manschaft}}
				table(class="headerTable col-xs-4")
					tr
						th Disziplin
						td {{session.disziplin.title}}
					tr
						th Modus
						td {{session.disziplin.parts[session.type].title}}
				
				div(class="col-xs-12" ng-repeat="serie in session.serieHistory track by $index")
					table(class="col-xs-8 shotTable")
						tr
							th Nr.
							th Ring
							th Winkel
							th Teiler
							th Zeit
						tr(ng-repeat="shot in serie track by $index")
							td {{shot.number}}.
							td {{shot.ring}}
							td {{shot.winkel}}
							td {{shot.teiler}}
							td {{shot.time |Â formatDate}}
							
					div(ng-controller="grafik" ng-init='init($parent.$parent.$index, $parent.$index)' class="grafikController col-xs-4")
						target(zoomlevel="zoomlevel" serie="serie" selectedshotindex="selectedshotindex" scheibe="scheibe" probeecke="probeecke" class="grafik")
		
		
		script.
			var app = angular.module('dsc-print', [
				'dsc.services.socketio',
				'dsc.services.grafik',
				
				'dsc.controllers.print',

				// 3rd party dependencies
				"btford.socket-io",
				"ja.qr",
			])
		
